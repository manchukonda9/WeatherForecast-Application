{"ast":null,"code":"var _jsxFileName = \"/Users/gopikrishnamanchukonda/weatherass/src/components/weathertry.js\";\nimport React, { Component } from 'react';\nimport Form from './Form';\nimport Template from './template'; //import 'weather-icons/css/weather-icon.css';\n\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport '../../node_modules/weather-icons/css/weather-icons.css';\nconst API_KEY = \"b5eaa19399377445bfddb5e2edce42e9\";\n\nclass Weathertry extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      jsonforecast: [],\n      jsontoday: [],\n      slno: 0,\n      city: undefined,\n      country: undefined,\n      date: undefined,\n      time: undefined,\n      temp: undefined,\n      max_temp: undefined,\n      min_temp: undefined,\n      description: undefined\n    };\n\n    this.getWeather1 = async e => {\n      e.preventDefault();\n      const city = e.target.elements.city.value;\n      const country = e.target.elements.country.value;\n      const api_current = await fetch(\"http://api.openweathermap.org/data/2.5/weather?q=\".concat(city, \",\").concat(country, \"&appid=\").concat(API_KEY, \"&units=metric\"));\n      const api_forecast = await fetch(\"https://api.openweathermap.org/data/2.5/forecast?q=\".concat(city, \",\").concat(country, \"&appid=\").concat(API_KEY, \"&units=metric\"));\n      const current_stats = await api_current.json();\n      const forecast_stats = await api_forecast.json();\n      this.setState({\n        city: city,\n        country: country\n      });\n      console.log(current_stats);\n      console.log(forecast_stats);\n\n      if (country && city) {\n        var readings = [];\n        var first_reading = {\n          \"slno\": this.state.slno,\n          \"date\": new Date(forecast_stats.list[0].dt * 1000).toLocaleDateString(),\n          \"date_text\": forecast_stats.list[0].dt_txt,\n          \"temp\": current_stats.main.temp,\n          \"max_temp\": current_stats.main.temp_max,\n          \"min_temp\": current_stats.main.temp_min,\n          \"description\": current_stats.weather[0].description,\n          \"icon\": forecast_stats.list[0].weather[0].icon\n        };\n        readings.push(first_reading);\n        var ct = new Date(forecast_stats.list[0].dt * 1000).toLocaleDateString();\n        console.log(ct);\n\n        for (var i = 0; i < 40; i++) {\n          if (new Date(forecast_stats.list[i].dt * 1000).toLocaleDateString() !== ct) {\n            ct = new Date(forecast_stats.list[i].dt * 1000).toLocaleDateString();\n            this.setState({\n              slno: this.state.slno + 1\n            });\n            var fivereading = {\n              \"slno\": this.state.slno,\n              \"date\": new Date(forecast_stats.list[i].dt * 1000).toLocaleDateString(),\n              \"date_text\": forecast_stats.list[i].dt_txt,\n              \"temp\": forecast_stats.list[i].main.temp,\n              \"max_temp\": forecast_stats.list[i].main.temp_max,\n              \"min_temp\": forecast_stats.list[i].main.temp_min,\n              \"description\": forecast_stats.list[i].weather[0].description,\n              \"id\": forecast_stats.list[i].weather[0].id,\n              \"icon\": forecast_stats.list[i].weather[0].icon\n            };\n            readings.push(fivereading);\n          }\n        }\n\n        console.log(readings); //    var jsondate = new Date(current_stats.dt*1000).toLocaleDateString();\n        //    var jsontime = undefined;\n        //    var jsontemp= current_stats.main.temp;\n        //    var jsonmax = current_stats.main.temp_max;\n        //    var jsonmin =current_stats.main.temp_min;\n        //    var jsondesc = current_stats.weather[0].description;\n        //    for (var i =0;i<40;i++){\n        //        this.setState({\n        //            slno:this.state.slno+1\n        //        })\n        //     var reading ={\n        //         \"slno\":this.state.slno,\n        //         \"date\":forecast_stats.list[i].dt_txt,\n        //         \"temp\":forecast_stats.list[i].main.temp,\n        //         \"max_temp\":forecast_stats.list[i].main.temp_max,\n        //         \"min_temp\":forecast_stats.list[i].main.temp_min,\n        //         \"description\":forecast_stats.list[i].weather[0].description,\n        //         \"id\":forecast_stats.list[i].weather[0].id,\n        //         \"show\":false\n        //        }\n        //        readings.push(reading);\n        //    }\n        //    var reading ={\n        //     \"date\":jsondate,\n        //     \"temp\":jsontemp,\n        //     \"max_temp\":jsonmax,\n        //     \"min_temp\":jsonmin,\n        //     \"description\":jsondesc\n        //    }\n        //    readings.push(reading);\n        // console.log(jsondata);\n\n        this.setState({\n          jsonforecast: readings,\n          date: [new Date(current_stats.dt * 1000).toLocaleDateString()],\n          temp: current_stats.main.temp,\n          max_temp: current_stats.main.temp_max,\n          min_temp: current_stats.main.temp_min,\n          description: current_stats.weather[0].description\n        }); // var current_date = new Date(current_stats.dt*1000).toLocaleDateString() ;\n        // var current_temp = current_stats.main.temp;\n        // var min_temp = current_stats.main.temp_min;\n        // var max_temp =current_stats.main.temp_max;\n        // var desc = current_stats.weather[0].description;\n        //console.log(current_date);\n      }\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"imagetry\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }, React.createElement(Form, {\n      getWeather1: this.getWeather1,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }), this.state.jsonforecast.map(entry => React.createElement(Template, {\n      city: this.state.city,\n      country: this.state.country,\n      forecast: entry,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    })));\n  }\n\n} // <Template date={this.state.date}\n// temp = {this.state.temp}\n// time={this.state.time}\n// min_temp={this.state.min_temp}\n// max_temp={this.state.max_temp}\n// description={this.state.description}/>\n\n\nexport default Weathertry;","map":{"version":3,"sources":["/Users/gopikrishnamanchukonda/weatherass/src/components/weathertry.js"],"names":["React","Component","Form","Template","API_KEY","Weathertry","state","jsonforecast","jsontoday","slno","city","undefined","country","date","time","temp","max_temp","min_temp","description","getWeather1","e","preventDefault","target","elements","value","api_current","fetch","api_forecast","current_stats","json","forecast_stats","setState","console","log","readings","first_reading","Date","list","dt","toLocaleDateString","dt_txt","main","temp_max","temp_min","weather","icon","push","ct","i","fivereading","id","render","map","entry"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport Form from './Form';\nimport Template from './template';\n//import 'weather-icons/css/weather-icon.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport '../../node_modules/weather-icons/css/weather-icons.css'\n\nconst API_KEY = \"b5eaa19399377445bfddb5e2edce42e9\";\nclass Weathertry extends Component {\n    state = {  \n        jsonforecast :[],\n        jsontoday:[],\n        slno:0,\n        city:undefined,\n        country:undefined,\n        date:undefined,\n        time:undefined,\n        temp:undefined,\n        max_temp:undefined,\n        min_temp:undefined,\n        description:undefined\n    }\n    getWeather1 = async (e) => {\n        e.preventDefault();\n        const city = e.target.elements.city.value;\n        const country = e.target.elements.country.value;\n       const api_current = await fetch(`http://api.openweathermap.org/data/2.5/weather?q=${city},${country}&appid=${API_KEY}&units=metric`);\n       const api_forecast = await fetch(`https://api.openweathermap.org/data/2.5/forecast?q=${city},${country}&appid=${API_KEY}&units=metric`);\n       \n       \n       const current_stats = await api_current.json();\n       const forecast_stats =await api_forecast.json();\n       this.setState({\n           city:city,\n           country:country\n       })\n  \n       console.log(current_stats);\n       console.log(forecast_stats);\n       \n\n   \n       if(country && city){\n           var readings = [];\n           var first_reading={\n            \"slno\":this.state.slno,\n            \"date\":new Date(forecast_stats.list[0].dt*1000).toLocaleDateString(),\n            \"date_text\":forecast_stats.list[0].dt_txt,\n            \"temp\":current_stats.main.temp,\n            \"max_temp\":current_stats.main.temp_max,\n            \"min_temp\":current_stats.main.temp_min,\n            \"description\":current_stats.weather[0].description,\n            \"icon\":forecast_stats.list[0].weather[0].icon\n\n         \n           }\n           readings.push(first_reading);\n           var ct = new Date(forecast_stats.list[0].dt*1000).toLocaleDateString();\n           console.log(ct);\n           for(var i=0;i<40;i++){\n            if(new Date(forecast_stats.list[i].dt*1000).toLocaleDateString()!== ct){\n                ct=new Date(forecast_stats.list[i].dt*1000).toLocaleDateString();\n               this.setState({\n                   slno:this.state.slno+1\n               })\n               var fivereading={\n                \"slno\":this.state.slno,\n                \"date\":new Date(forecast_stats.list[i].dt*1000).toLocaleDateString(),\n                \"date_text\":forecast_stats.list[i].dt_txt,\n                \"temp\":forecast_stats.list[i].main.temp,\n                \"max_temp\":forecast_stats.list[i].main.temp_max,\n                \"min_temp\":forecast_stats.list[i].main.temp_min,\n                \"description\":forecast_stats.list[i].weather[0].description,\n               \"id\":forecast_stats.list[i].weather[0].id,\n               \"icon\":forecast_stats.list[i].weather[0].icon\n               }\n               readings.push(fivereading);\n            }\n\n           }\n           console.log(readings);\n        //    var jsondate = new Date(current_stats.dt*1000).toLocaleDateString();\n        //    var jsontime = undefined;\n        //    var jsontemp= current_stats.main.temp;\n        //    var jsonmax = current_stats.main.temp_max;\n        //    var jsonmin =current_stats.main.temp_min;\n        //    var jsondesc = current_stats.weather[0].description;\n\n\n        //    for (var i =0;i<40;i++){\n        //        this.setState({\n        //            slno:this.state.slno+1\n        //        })\n        //     var reading ={\n        //         \"slno\":this.state.slno,\n        //         \"date\":forecast_stats.list[i].dt_txt,\n        //         \"temp\":forecast_stats.list[i].main.temp,\n        //         \"max_temp\":forecast_stats.list[i].main.temp_max,\n        //         \"min_temp\":forecast_stats.list[i].main.temp_min,\n        //         \"description\":forecast_stats.list[i].weather[0].description,\n        //         \"id\":forecast_stats.list[i].weather[0].id,\n        //         \"show\":false\n        //        }\n        //        readings.push(reading);\n\n        //    }\n        //    var reading ={\n        //     \"date\":jsondate,\n        //     \"temp\":jsontemp,\n        //     \"max_temp\":jsonmax,\n        //     \"min_temp\":jsonmin,\n        //     \"description\":jsondesc\n        //    }\n        //    readings.push(reading);\n          // console.log(jsondata);\n           this.setState({\n               jsonforecast:readings,\n                \n               date:[new Date(current_stats.dt*1000).toLocaleDateString()],\n               temp:current_stats.main.temp,\n               max_temp:current_stats.main.temp_max,\n               min_temp:current_stats.main.temp_min,\n               description:current_stats.weather[0].description\n\n           });\n\n        // var current_date = new Date(current_stats.dt*1000).toLocaleDateString() ;\n        // var current_temp = current_stats.main.temp;\n        // var min_temp = current_stats.main.temp_min;\n        // var max_temp =current_stats.main.temp_max;\n        // var desc = current_stats.weather[0].description;\n\n        \n        //console.log(current_date);\n\n       }\n\n    }\n\n\n\n    render() { \n        return (  <div className=\"imagetry\">\n            <Form getWeather1={this.getWeather1}/> \n           \n            \n            {\n                this.state.jsonforecast.map(entry=>(\n                    <Template  city={this.state.city} country={this.state.country} forecast={entry}/>\n                ))\n            }\n            \n        \n            </div>);\n    }\n}\n\n// <Template date={this.state.date}\n// temp = {this.state.temp}\n// time={this.state.time}\n// min_temp={this.state.min_temp}\n// max_temp={this.state.max_temp}\n// description={this.state.description}/>\n \nexport default Weathertry;"]},"metadata":{},"sourceType":"module"}